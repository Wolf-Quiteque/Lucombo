<!-- Navbar Component (navbar.html) -->
<!-- Include this file in your pages using JavaScript -->

<nav class="navbar navbar-expand-lg sticky-top">
    <div class="container">
      <a class="navbar-brand d-lg-none" href="index.html">Dr. Lucombo Luveia</a>
      <button class="navbar-toggler" type="button" onclick="toggleNav()" 
              aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarContent">
        <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" id="nav-home" href="index.html">
              <span x-show="language === 'pt'">In√≠cio</span>
              <span x-show="language === 'en'">Home</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav-cv" download href="assets/pdf/CV_Lucombo_Luveia_.pdf">
              <span>CV</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav-research" href="research.html">
              <span x-show="language === 'pt'">Projetos de Pesquisa</span>
              <span x-show="language === 'en'">Research Projects</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="nav-teaching" href="teaching.html">
              <span x-show="language === 'pt'">Ensino</span>
              <span x-show="language === 'en'">Teaching</span>
            </a>
          </li>
        </ul>
        
        <div class="language-switcher ms-auto" @click="language = language === 'pt' ? 'en' : 'pt'">
          <i class="bi bi-globe2"></i>
          <span x-text="language === 'pt' ? 'EN' : 'PT'" class="ms-1"></span>
        </div>
      </div>
    </div>
  </nav>
  
  <script>
    // Function to toggle mobile nav
    function toggleNav() {
      const navbarContent = document.getElementById('navbarContent');
      navbarContent.classList.toggle('show');
    }
    
    // Function to set active nav item
    function setActiveNavItem() {
      const currentPath = window.location.pathname;
      
      // Remove all active classes first
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
        link.removeAttribute('aria-current');
      });
      
      // Set active class based on current path
      if (currentPath.includes('index.html') || currentPath === '/' || currentPath === '') {
        document.getElementById('nav-home').classList.add('active');
        document.getElementById('nav-home').setAttribute('aria-current', 'page');
      } else if (currentPath.includes('research.html')) {
        document.getElementById('nav-research').classList.add('active');
        document.getElementById('nav-research').setAttribute('aria-current', 'page');
      } else if (currentPath.includes('teaching.html')) {
        document.getElementById('nav-teaching').classList.add('active');
        document.getElementById('nav-teaching').setAttribute('aria-current', 'page');
      }
    }
    
    // Run when DOM is loaded
    document.addEventListener('DOMContentLoaded', setActiveNavItem);
  </script>